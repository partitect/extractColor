/*!
 * FilePondPluginCopyPath 1.0.0
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://github.com/jnkn6/filepond-plugin-copy-path#readme for details.
 */
/* eslint-disable */

const e=e=>{let t=document.createElement("span");return t.className="filepond--copypath-icon",t.title=e,t},t=(e,t,o,n)=>{let r=n.url,d=n.load.url,l="";if(!r||!d)return;l=t?d+e.serverId:r+d+e.serverId;let i=document.createElement("textarea");document.body.appendChild(i),i.value=l,i.select(),document.execCommand("copy"),document.body.removeChild(i),o&&alert("Copy file path at clipboard.")},o=o=>{const{addFilter:n,utils:r}=o,{Type:d,createRoute:l}=r;return n("CREATE_VIEW",(o=>{const{is:n,view:r,query:d}=o;if(!n("file"))return;r.registerWriter(l({DID_LOAD_ITEM:({root:o,props:n})=>{const{id:r}=n,l=d("GET_ITEM",r);if(!l||l.archived)return;const i=o.query("GET_LABEL_BUTTON_COPY_PATH"),a=o.query("GET_COPY_RELATIVE_PATH"),c=o.query("GET_ALERT_COPY_PATH"),u=o.query("GET_SERVER");((o,n,r,d,l,i)=>{const a=n.querySelector(".filepond--file-info-main"),c=e(r);a.prepend(c),c.addEventListener("click",(()=>t(o,d,l,i)))})(l,o.element,i,a,c,u)}},(({root:e})=>{e.rect.element.hidden})))})),{options:{labelButtonCopyPath:["Copy uploaded file path",d.STRING],copyRelativePath:[!1,d.BOOLEAN],alertCopyPath:[!0,d.BOOLEAN]}}};"undefined"!=typeof window&&void 0!==window.document&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:o}));export default o;
