/*!
 * FilePondPluginCopyPath 1.0.0
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://github.com/jnkn6/filepond-plugin-copy-path#readme for details.
 */
/* eslint-disable */

!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).FilePondPluginCopyPath=t()}(this,(function(){"use strict";const e=e=>{let t=document.createElement("span");return t.className="filepond--copypath-icon",t.title=e,t},t=(e,t,o,n)=>{let d=n.url,i=n.load.url,r="";if(!d||!i)return;r=t?i+e.serverId:d+i+e.serverId;let l=document.createElement("textarea");document.body.appendChild(l),l.value=r,l.select(),document.execCommand("copy"),document.body.removeChild(l),o&&alert("Copy file path at clipboard.")},o=o=>{const{addFilter:n,utils:d}=o,{Type:i,createRoute:r}=d;return n("CREATE_VIEW",(o=>{const{is:n,view:d,query:i}=o;if(!n("file"))return;d.registerWriter(r({DID_LOAD_ITEM:({root:o,props:n})=>{const{id:d}=n,r=i("GET_ITEM",d);if(!r||r.archived)return;const l=o.query("GET_LABEL_BUTTON_COPY_PATH"),u=o.query("GET_COPY_RELATIVE_PATH"),a=o.query("GET_ALERT_COPY_PATH"),c=o.query("GET_SERVER");((o,n,d,i,r,l)=>{const u=n.querySelector(".filepond--file-info-main"),a=e(d);u.prepend(a),a.addEventListener("click",(()=>t(o,i,r,l)))})(r,o.element,l,u,a,c)}},(({root:e})=>{e.rect.element.hidden})))})),{options:{labelButtonCopyPath:["Copy uploaded file path",i.STRING],copyRelativePath:[!1,i.BOOLEAN],alertCopyPath:[!0,i.BOOLEAN]}}};return"undefined"!=typeof window&&void 0!==window.document&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:o})),o}));
